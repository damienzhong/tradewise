<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
</head>
<body>
<!-- 通用脚本片段 - 处理侧边栏折叠事件 -->
<div th:fragment="common-script">
    <script>
        // 监听侧边栏折叠事件
        document.addEventListener('DOMContentLoaded', function() {
            const sidebar = document.getElementById('sidebar');
            if (sidebar) {
                const observer = new MutationObserver(function(mutations) {
                    mutations.forEach(function(mutation) {
                        if (mutation.attributeName === 'class') {
                            const isCollapsed = sidebar.classList.contains('collapsed');
                            // 可以在这里添加其他需要响应侧边栏状态变化的逻辑
                        }
                    });
                });
                
                observer.observe(sidebar, {
                    attributes: true,
                    attributeFilter: ['class']
                });
            }
        });
    </script>
</div>
</body>
</html>
